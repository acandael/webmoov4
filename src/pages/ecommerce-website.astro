---
import Layout from "../layouts/Layout.astro";
import cart from "../assets/shopping-cart.svg";
import Button from "../components/ui/Button.astro";
import Heading from "../components/ui/Heading.astro";
import check from "../assets/check.svg";
import ContactForm from "../components/ContactForm";
import { Image } from "astro:assets";
import ecommerceWebsite from "../assets/ecommerce-website.jpg";
import ProductSection from "../components/ProductSection.astro";
import FeaturesGrid from "../components/FeaturesGrid.astro";
import ProcessTimeline from "../components/ProcessTimeline.astro";
import FormSection from "../components/FormSection.astro";

interface Feature {
	title: string;
}

const features: Feature[] = [
	{
		title: "Product Information Management (PIM)",
	},
	{
		title: "Veilige betalingen",
	},
	{
		title: "Voorraadbeheer",
	},
	{
		title: "Order beheer",
	},
	{
		title: "Klant accounts",
	},
	{
		title: "Geavanceerd zoeken",
	},
	{
		title: "Prijs kortingen",
	},
	{
		title: "Analytics dashboard",
	},
];
---

<Layout>
	<ProductSection
		image={ecommerceWebsite}
		icon={cart}
		title="E-commerce Website"
		subtitle="Complete webshop oplossingen op maat van jouw bedrijf."
	/>

	<FeaturesGrid features={features} />
	<ProcessTimeline />
	<FormSection product="ecommerce-website" />
</Layout>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		// Process animation
		const observer = new IntersectionObserver(
			(entries) => {
				entries.forEach((entry) => {
					if (entry.isIntersecting) {
						entry.target.classList.add("animate");
					} else {
						entry.target.classList.remove("animate");
					}
				});
			},
			{
				threshold: 0.2,
				rootMargin: "-50px 0px -50px 0px",
			},
		);

		document.querySelectorAll(".process-step").forEach((step) => {
			observer.observe(step);
		});

		// Smooth scrolling
		document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
			anchor.addEventListener("click", (e) => {
				e.preventDefault();
				const href = anchor.getAttribute("href");
				if (href) {
					const targetElement = document.querySelector(href);
					if (targetElement) {
						targetElement.scrollIntoView({
							behavior: "smooth",
							block: "start",
						});
					}
				}
			});
		});
	});
</script>
